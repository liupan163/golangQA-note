#记录网络知识点
1、golang中除了mutex，还有什么可以实现 安全读写共享变量
-   goroutine中，还可以用channel进行安全读写

2、无缓冲的channel的发送和接收是否同步？
无缓冲，发送阻塞直到数据被接收，接收阻塞直到读到数据
有缓存，缓冲满时发送阻塞(此时发不了信息)，缓存空时接收阻塞（此时接收不了信息，因为没有信息）
有缓存的channel区别在于，只有当缓冲区被填满时,才会阻塞发送者,只有当缓冲区为空时，才会阻塞接受者

3、golang语言的并发机制 以及他所使用的CSP并发模型
-   以通信方式来共享内存，主要通过channel实现，在进程之间传递
-   不同于传统的多线程，goroutine
    -   避免切换上下文的成本
    -   可以由语言调度
    -   更小的栈空间
Golang中的Goroutine的特性:
内部有三个对象： 
-   P对象(processor) 代表上下文（或者可以认为是cpu），
-   M(work thread)代表工作线程，
-   G对象（goroutine）.

4、golang中常用的并发模型
-   golang中常用的并发模型有三种
    -   channel通知来控制并发控制
    -   通过sync包中的waitGroup实现并发控制
    -   Context上下文，实现并发控制

5、json标准库对nil slice和空 slice处理一致吗？
不一致。
var slice []int  //通常报 报数组越界的错误
slice := make([]int,0）  //slice不为nil，但是slice没有值，slice的底层的空间是空的

6、协程，线程，进程 的区别
-   进程：系统进行资源分配和调度的一个独立单位。
-   线程：进程的一个实体，是cpu调度和分配的具体单位
-   协程：是用户态的一个轻量级线程。避免上下文切换的消耗

7、互斥锁、读写锁，死锁的解决。
互斥锁：互斥变量mutex，锁住临界区的。
读写锁：****注意写独占，读共享，写锁优先级高****
死锁：一个lock对象被调用两次，或者相互持有另一个对象的锁，无法释放。

8、Golang的内存模型
happen before模型，就是：代码执行顺序不变，不管cpu，编译器怎么优化

9、data race数据竞争问题的解决？
互斥锁sync.Mutex来解决，也可以使用管道解决,使用管道的效率要比互斥锁高.

10、什么是channel，怎么做到线程安全的？
channel是个通信队列，原子操作来确保安全

11、epoll原理
多路复用

12、golang gc时会发生什么？
方法：应用计数 标记清除  分代搜集   
golang中标记清除，步骤：
栈扫描、第一次标记、第二次标记、清除

13、goroutine如何调度？
go func（）异步

14、并发？并行？
并发：多个事件同时访问一个对象。
并行：同一时刻内，发生多个事件。

15、负载均衡的原理？
网络流量分发
RR


18、分布式锁实现原理？
一致性（Consistency）、可用性（Availability）和分区容错性（Partition tolerance）
通常是牺牲 强一致性 来提高效率，达到 最终一致性 就行。
实现：
redis，性能好，方便使用，可持久化     缺点：主从切换可能丢包
zookeeper、etcd共识算法

19、etcd怎么实现分布式锁？
定义：键值存储仓库，用于配置共享和服务发现
利用raft算法保证了强一致性，

20、redis数据结构类型？
string
-   基本的数据类型，一个key对应一个value
hash字典
-   Mapmap，指值本身又是一种键值对结构
list列表
-   
set集合
-   1. 不允许有重复的元素，2.集合中的元素是无序的3.支持集合间的操作，可以取多个集合取交集、并集、差集
zset (sorted set)有序集合
-   有序集合中的元素是可以排序的，它给每个元素设置一个分数，作为排序的依据。

21、mysql高可用方案
主从复制

22、go语言的栈空间管理是怎样的？
go语言的运行环境会在goroutine需要的时候，动态的分配栈空间

23、goroutine和channel作用？
goroutine类似线程，是内存资源管理和cpu调度的最小单位。有效利用了多核的优势，用户态，用户管理，多个goroutine跑个多个处理器里面跑。协程间通信，就用的channel，有序的消息队列。

25、go中的锁？互斥锁、读写锁、map安全的锁？
mutex互斥锁，rwmutex读写锁，sync.map安全锁

26、写锁或者互斥锁读的时候能写吗?
不行，    读锁时候，可以读，不能写

32、滑动窗口的概念
用来改善吞吐量的一种技术，即容许发送方在接收任何应答之前，传送附加的包。接收方告诉发送方，在某一时刻能送多少包（称窗口尺寸）

35、中间件原理？
中间件在操作系统、网络和数据库之上，应用软件的下层，总的作用是为处于自己上层的应用软件提供运行与开发的环境，帮助用户灵活、高效地开发和集成复杂的应用软件

36、怎么设计一个orm？
封装 sql增删改查 语句
条件查询封装
查询结果和 实体对象映射

40、golang常用的压力测试工具、测试方法？
自带的test库，后缀名为 _test.go的文件，压力测试必须要以Benchmark开头。

42、redis集群，哨兵，持久化，事务？
通过 主从复置 实现集群。
Sentinel哨兵可以管理多个Redis服务器，复制（Replication）则是负责让一个Redis服务器可以配备多个备份的服务器。

53 golang中struct能不能比较？
看内部属性，有引用类型的不可以比较

62golang实现消息队列？
根据goroutine和channel来实现（多消费者、多生产者）

64、基本排序，哪些是稳定的
选择排序、快速排序、希尔排序、堆排序不是稳定的排序算法，
冒泡排序、插入排序、归并排序和基数排序是稳定的排序算法

71、数据库如何建索引
-   普通索引 index
-   唯一索引 unique index
-   主键索引
-   组合索引



主键将 表结构 变成 树结构，索引 将 树结构 变成 平衡树（二叉、也可为B+树）。

索引的不足：
-   提高了查找效率，但降低了增、改、删的效率。因为更新时，还得更新索引文件。
-   索引占内存，小文件不明显，大文件 组合索引会非常明显。

78、如何判断两个无环单链表有没有交叉点
有交叉点，必然为Y形 ，判断结尾点是不是一致
要么减去差值，开始各自遍历，交叉点的 节点数据一致


